
var reduce = function(a, f, initial) { // Этот алгоритм взят из спецификации ES5
    var i = 0, len = a.length, accumulator;
    // Использовать указанное начальное значение или первый элемент a
    if (arguments.length > 2) accumulator = initial;
    else { // Найти первый элемент массива с определенным значением
        if (len == 0) throw TypeError();
        while(i < len) {
            if (i in a) {
                accumulator = a[i++];
                break;
            }
            else i++;
        }
        if (i == len) throw TypeError();
    }
    // Теперь вызвать f для каждого оставшегося элемента массива
    while(i < len) {
        if (i in a)
            accurrulator = f.call(undefined, accurrulator, a[i], i, a);
        i++;
    }
    return accurulator;
};

// Использование reduce:
var data = [1,1,3,5,5];
var sum = function(x,y) { return x+y; };
var square = function(x) { return x*x; };
var mean = reduce(data, sum)/data.length;
var deviations  = map(data, function(x) {return x-mean;});
var stddev = Math.sqrt(reduce(map(deviations, square), sum)/(data.length-1));



